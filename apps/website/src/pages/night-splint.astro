---
import Layout from "@/layouts/Layout.astro";
import { ClientRouter } from "astro:transitions";
import Testimonials from "@/components/testimonials/Testimonials.astro";
import Slide from "@/components/Slide.astro";
import NightSplintSchema from "@/schemas/NightSplintSchema.astro";
import EmailCTA from "@/components/CTA/EmailCTA.astro";
import DownloadList from "@/components/DownloadList.astro";
import Quote from "@/components/Quote.astro";
import SizeChart from "@/components/SizeChart.astro";
import StarRating from "@/components/reviews/StarRating.astro";
import { buttonVariants } from "@/components/ui/button";
import NightSplintFAQs from "@/components/NightSplintFAQs.tsx";
import ReviewsMasonry from "@/components/reviews/ReviewsMasonry.astro";
import SleepingComfortably from "@/components/pros-cons/SleepingComfortably.tsx";
import BuyButtonVariants from "@/components/products/buy-button/BuyButtonVariants.tsx";
import ReviewStatistics from "@/components/reviews/ReviewStatistics.tsx";
import ReviewSummary from "@/components/reviews/ReviewSummary.tsx";
import BuyNightSplint from "../components/BuyNightSplint.astro";
import ListIcon from "@/components/ListIcon.astro";
import Reviews from "@/components/reviews/Reviews.astro";
import { Button } from "@thetis/ui/button";
import SleepInYourWellies from "@/components/SleepInYourWellies.tsx";
import { CheckCircle, AlertTriangle } from "lucide-astro";
---

<Fragment slot="head">
  <NightSplintSchema />
  <ClientRouter />
</Fragment>

<Layout
    title="Achilles Tendon Rupture Night Splint"
    description="Thetis Medical's Achilles rupture night splint to make sleeping more pleasant and bearable. The brace straps to the leg to prevent further tendon injury."
    image="https://thetismedical.com/images/green-shell.png"
>
    <main class="">
        <section class="bg-gradient-to-b from-primary/50 to-white mt-0 pt-0 pt-32 pb-16 hero-section">
            <div class="mx-auto text-center container">
                <h1 class="mb-6 font-bold text-4xl text-gray-900 md:text-5xl">
                    The Only Specialist Night Splint for Achilles Rupture Recovery
                </h1>
                <p class="mx-auto mb-8 max-w-3xl text-gray-700 text-xl">
                    Finally, a comfortable solution for nighttime recovery. Designed alongside surgeons to protect your healing Achilles while you rest.
                </p>
                <BuyNightSplint client:load />
            </div>
        </section>

        <section class="features-grid py-16">
            <div class="mx-auto container">
                <div class="gap-8 grid md:grid-cols-2">
                    <div class="bg-white shadow-sm p-8 rounded-xl feature-card">
                        <h3 class="mb-4 font-semibold text-2xl">Specifically Designed for Achilles Rupture</h3>
                        <ul class="space-y-3">
                            <ListIcon type="positive">
                                Maintains optimal 155Â° plantarflexed position for healing
                            </ListIcon>
                            <ListIcon type="positive">
                                Patented design developed with orthopedic specialists
                            </ListIcon>
                            <ListIcon type="negative">
                                Not for tendinitis, plantar fasciitis, or broken bones
                            </ListIcon>
                        </ul>
                    </div>

                    <div class="bg-white shadow-sm p-8 rounded-xl feature-card">
                        <h3 class="mb-4 font-semibold text-2xl">Superior Comfort & Security</h3>
                        <ul class="space-y-3">
                            <ListIcon type="positive">
                                Non-slip silicone straps for maximum comfort
                            </ListIcon>
                            <ListIcon type="positive">
                                Innovative heel strap design avoids pressure on injury
                            </ListIcon>
                            <ListIcon type="positive">
                                Breathable, lightweight alternative to bulky boots
                            </ListIcon>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-gray-50 py-16 usage-guidelines">
            <div class="mx-auto container">
                <h2 class="mb-12 font-bold text-3xl text-center">When To Use Your Night Splint</h2>
                <div class="mx-auto max-w-4xl">
                    <div class="bg-white shadow-sm mb-6 p-6 rounded-lg">
                        <h4 class="flex flex-row items-center gap-2 mb-3 font-semibold text-green-600 text-xl"><CheckCircle size={20} /> Perfect for Rest & Sleep</h4>
                        <p>Replace your uncomfortable boot while resting or sleeping for up to 3 months during recovery</p>
                    </div>
                    
                    <div class="bg-white shadow-sm mb-6 p-6 rounded-lg">
                        <h4 class="flex flex-row items-center gap-2 mb-3 font-semibold text-amber-600 text-xl"><AlertTriangle size={20} /> Important Safety Note</h4>
                        <p>Do not walk or stand in this splint. Wait 2 weeks post-surgery before use (consult your surgeon)</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-16 cta-section">
            <div class="mx-auto text-center container">
                <h2 class="mb-6 font-bold text-3xl">Ready for More Comfortable Recovery?</h2>
                <p class="mb-8 text-gray-700 text-xl">Join thousands of patients who've improved their recovery experience</p>
                <Reviews />
                <Button asChild><a href="#more-reviews" >More Testimonials</a></Button>
            </div>
        </section>

        <Slide
            id="testimonials"
            title="Testimonials"
            paragraph=" 78% of patients found sleeping in the boot difficult and would therefore benefit from our night splint."
        >
            <Quote
                title="Simply brilliant - and brilliantly simple"
                author="Clinical Director, London Foot and Ankle Centre"
            />
            <div
                class="flex justify-center items-center mx-auto mt-8 px-4 w-full"
            >
                <h3>
                    <a
                        class={buttonVariants({ variant: 'link', size: 'lg' })}
                        href="#more-reviews">More Testimonials</a
                    >
                </h3>
            </div>
        </Slide>
        
        <SleepingComfortably client:load />
        
        <SleepInYourWellies client:load />

        <div class="mx-auto py-16 container">
            <div class="lg:gap-12 lg:grid lg:grid-cols-2">
                <!-- Problem Section -->
                <div class="relative bg-gradient-to-br from-red-50 via-red-100 to-red-50 shadow-lg p-8 rounded-3xl transform transition-all hover:-translate-y-1 duration-300 overflow-hidden">
                    <!-- Decorative background elements -->
                    <div class="-top-16 -right-16 absolute bg-red-200 opacity-20 blur-2xl rounded-full w-32 h-32"></div>
                    <div class="-bottom-8 -left-8 absolute bg-red-300 opacity-20 blur-2xl rounded-full w-24 h-24"></div>
                    
                    <div class="relative z-10">
                        <h3 class="mb-4 font-bold text-3xl text-red-900">The Problem with Boot</h3>
                        <p class="mb-8 text-red-800/80">
                            Currently, patients wear a large, outdoor, orthopaedic boot, day and night, for the 10 week rehabilitation. This is analogous to wearing hiking boots for 10 weeks, and sleeping in them.
                        </p>

                        <p class="mb-6 font-semibold text-red-800 text-xl">Patients struggle with traditional boots:</p>
                        
                        <div class="gap-8 grid grid-cols-2">
                            <div class="space-y-4">
                                <ListIcon type="negative" class="animate-fade-in-up" style="animation-delay: 100ms">
                                    Hot & Sweaty
                                </ListIcon>
                                <ListIcon type="negative" class="animate-fade-in-up" style="animation-delay: 200ms">
                                    Collects Dirt & Debris
                                </ListIcon>
                            </div>
                            <div class="space-y-4">
                                <ListIcon type="negative" class="animate-fade-in-up" style="animation-delay: 300ms">
                                    Uncomfortable in Bed
                                </ListIcon>
                                <ListIcon type="negative" class="animate-fade-in-up" style="animation-delay: 400ms">
                                    Bulky & Heavy
                                </ListIcon>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Solution Section -->
                <div class="relative bg-gradient-to-br from-green-50 via-green-100 to-green-50 shadow-lg mt-8 lg:mt-0 p-8 rounded-3xl transform transition-all hover:-translate-y-1 duration-300 overflow-hidden">
                    <!-- Decorative background elements -->
                    <div class="-top-16 -right-16 absolute bg-green-200 opacity-20 blur-2xl rounded-full w-32 h-32"></div>
                    <div class="-bottom-8 -left-8 absolute bg-green-300 opacity-20 blur-2xl rounded-full w-24 h-24"></div>

                    <div class="relative z-10">
                        <div class="flex items-center gap-2 mb-4">
                            <h3 class="font-bold text-3xl text-green-900">Our Solution</h3>
                            <span class="bg-green-200 px-3 py-1 rounded-full text-green-800 text-sm">Patent Pending</span>
                        </div>
                        
                        <p class="mb-8 text-green-800/80">
                            A revolutionary lightweight, comfort-focused splint that makes recovery more bearable.
                        </p>

                        <p class="mb-6 font-semibold text-green-800 text-xl">The Thetis Advantage:</p>
                        
                        <div class="gap-8 grid grid-cols-2">
                            <div class="space-y-4">
                                <ListIcon type="positive" class="animate-fade-in-up" style="animation-delay: 100ms">
                                    Breathable & Cool
                                </ListIcon>
                                <ListIcon type="positive" class="animate-fade-in-up" style="animation-delay: 200ms">
                                    Anatomically Contoured
                                </ListIcon>
                            </div>
                            <div class="space-y-4">
                                <ListIcon type="positive" class="animate-fade-in-up" style="animation-delay: 300ms">
                                    Ultra-Lightweight
                                </ListIcon>
                                <ListIcon type="positive" class="animate-fade-in-up" style="animation-delay: 400ms">
                                    Slim & Comfortable
                                </ListIcon>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <Slide
            id="statistics"
            title="Statistics"
            paragraph=" 78% of patients found sleeping in the boot difficult and would therefore benefit from our night splint."
        >
            <div class="sleep-pie">
                <img
                    loading="lazy"
                    class="pie"
                    src="/images/sleeping-piechart-donut.svg"
                    alt="Pie Chart of Patient's Sleep post Achilles Rupture"
                />
                <img
                    loading="lazy"
                    class="key"
                    src="/images/sleeping-piechart-key.svg"
                    alt="Pie Chart key of Patient's Sleep post Achilles Rupture"
                />
            </div>
        </Slide>

        <EmailCTA
            title="Sound Interesting?"
            paragraph="Want to learn more? Enter your email below."
        />

        <!-- Instructions -->

        <Slide title="Instructions">
            <div class="warnings">
                <h4>DO NOT STAND OR WALK IN THE SPLINT.</h4>
                <h4>DO NOT OVERTIGHTEN THE STRAPS.</h4>
            </div>
            <div class="instructions-wrap">
                <div class="instruction">
                    <p>
                        1. Point toes then place shell on leg. Ensure you cover
                        foot but not toes. Fastening patch sits over ankle
                        joint.
                    </p>
                    <img
                        class="instruction-img"
                        loading="lazy"
                        src="/images/night-splint/instruction-1.svg"
                        alt="instructions image 1"
                    />
                </div>
                <div class="instruction">
                    <p>
                        2. Do up leg and foot straps firmly but not too tight.
                    </p>
                    <img
                        class="instruction-img"
                        loading="lazy"
                        src="/images/night-splint/instruction-2.svg"
                        alt="instructions image 2"
                    />
                </div>
            </div>
            <div class="instructions-wrap">
                <div class="instruction">
                    <p>3. Position heel in hole of the final (ankle) strap.</p>
                    <img
                        class="instruction-img"
                        loading="lazy"
                        src="/images/night-splint/instruction-3.svg"
                        alt="instructions image 3"
                    />
                </div>
                <div class="instruction">
                    <p>4. Fasten firmly but not too tight.</p>
                    <img
                        class="instruction-img"
                        loading="lazy"
                        src="/images/night-splint/instruction-4.svg"
                        alt="instructions image 4"
                    />
                </div>
            </div>
        </Slide>

        <!-- Sizing -->

        <Slide title="Sizing">
            <div class="h-6"></div>
            <SizeChart />
        </Slide>

        <!-- Downloads -->

        <Slide title="Downloads">
            <DownloadList
                title="Information for Patients"
                downloads={[
                    {
                        title: 'Night Splint Instructions.pdf',
                        href: '/images/documents/screen-instructions-induvidual.pdf',
                    },
                    {
                        title: 'Night Splint Information Brochure.pdf',
                        href: '/images/documents/information-brochure-night-splint.pdf',
                    },
                ]}
            />
        </Slide>

        <ReviewsMasonry />

        <Testimonials />

        <Slide title="FAQs">
            <NightSplintFAQs />
        </Slide>
    </main>
</Layout>

<script>
    fetch('https://extreme-ip-lookup.com/json/?key=mRicTdUafjFRd3Ufqftq')
        .then((res) => res.json())
        .then((response) => {
            console.log('Country: ', response.country)
            try {
                // Check if on Night Splint Page
                const shopify = document.getElementById(
                    'shopify-buy-button-wrapper'
                )
                const amazon = document.getElementById(
                    'amazon-buy-button-wrapper'
                )

                if (response.country === 'United Kingdom') {
                    amazon?.remove()
                } else {
                    shopify?.remove()
                }
            } catch (error) {
                // console.log(error)
            }
        })
        .catch((reason: any) => {
            console.log(reason)
            // console.log('Request failed');
        })
</script>

<style>
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-fade-in-up {
        animation: fadeInUp 0.6s ease-out forwards;
        opacity: 0;
    }
</style>
