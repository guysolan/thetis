---
import { cn } from "@thetis/ui/cn";
import Layout from "@/layouts/Layout.astro";
import { ClientRouter } from "astro:transitions";
import Testimonials from "@/components/testimonials/Testimonials.astro";
import Slide from "@/components/Slide.astro";
import NightSplintSchema from "@/schemas/NightSplintSchema.astro";
import EmailCTA from "@/components/CTA/EmailCTA.astro";
import DownloadList from "@/components/DownloadList.astro";
import SizeChart from "@/components/SizeChart.jsx";
import NightSplintFAQs from "@/components/NightSplintFAQs.tsx";
import ReviewsMasonry from "@/components/reviews/ReviewsMasonry.tsx";
import BuyNightSplint from "../components/BuyNightSplint.astro";
import Reviews from "@/components/reviews/Reviews.astro";
import {  buttonVariants } from "@/components/ui/button";
import SimplyBrilliantQuote from "@/components/reviews/SimplyBrilliantQuote.astro";
import SleepInYourWellies from "@/components/SleepInYourWellies.tsx";
import HighlightedWord from '../components/HighlightedWord';
import NightSplintFeatures from "@/components/products/night-splint/NightSplintFeatures.astro";
import NightSplintUsage from "@/components/products/night-splint/NightSplintUsage.astro";
import NightSplintProsCons from "@/components/products/night-splint/NightSplintProsCons.astro";
import NightSplintInstructions from "@/components/products/night-splint/night-splint-instructions/index.astro";
import BigLinks from "@/components/BigLinks.astro";
---

<Fragment slot="head">
  <NightSplintSchema />
  <ClientRouter />
</Fragment>

<Layout
    title="Achilles Tendon Rupture Night Splint"
    description="Thetis Medical's Achilles rupture night splint to make sleeping more pleasant and bearable. The brace straps to the leg to prevent further tendon injury."
    image="https://thetismedical.com/images/green-shell.png"
>
    <main class="">
        <section class="bg-gradient-to-b from-primary/20 to-white mt-0 pt-32 pb-16 hero-section">
           
            <div class="mx-auto text-center container">
                <h1 class="mb-6 font-semibold text-4xl text-gray-900 md:text-5xl">
                    The <HighlightedWord>Only</HighlightedWord> Night Splint for Achilles Tendon <HighlightedWord>Rupture</HighlightedWord>
                </h1>
                <p class="mx-auto mb-8 max-w-3xl text-gray-700 text-xl">
                    Finally, a comfortable solution for nighttime recovery. Designed alongside surgeons to protect your healing Achilles while you rest.
                </p>
                <BuyNightSplint client:load />
            </div>
        </section>

        <SleepInYourWellies client:load />

        <NightSplintFeatures/>

        <NightSplintUsage/>

        <section class="py-16 cta-section">
            <div class="mx-auto text-center container">
                <h2 class="mb-6 font-semibold text-3xl">Ready for More Comfortable Recovery?</h2>
                <p class="mb-8 text-gray-700 text-xl">Join thousands of patients who've improved their recovery experience</p>
                <Reviews />
                <a href="#more-reviews" class={cn(buttonVariants({ variant: 'outline', size: 'lg' }))} >More Testimonials</a>
            </div>
        </section>
       
        <NightSplintProsCons/>

        <SimplyBrilliantQuote />
   
        <NightSplintInstructions />

        <Slide title="Sizing">
            <div class="h-6"></div>
            <SizeChart />
        </Slide>

        <!-- Downloads -->

        <Slide title="Downloads">
            <DownloadList
                title="Information for Patients"
                downloads={[
                    {
                        title: 'Night Splint Instructions.pdf',
                        href: '/images/documents/screen-instructions-induvidual.pdf',
                    },
                    {
                        title: 'Night Splint Information Brochure.pdf',
                        href: '/images/documents/information-brochure-night-splint.pdf',
                    },
                ]}
            />
        </Slide>

        <ReviewsMasonry client:load/>

        <Testimonials />

        <EmailCTA
        title="Sound Interesting?"
        paragraph="Want to learn more? Enter your email below."
         />

        <Slide title="FAQs">
            <NightSplintFAQs client:load />
        </Slide>
    </main>
</Layout>

<script>
    fetch('https://extreme-ip-lookup.com/json/?key=mRicTdUafjFRd3Ufqftq')
        .then((res) => res.json())
        .then((response) => {
            console.log('Country: ', response.country)
            try {
                // Check if on Night Splint Page
                const shopify = document.getElementById(
                    'shopify-buy-button-wrapper'
                )
                const amazon = document.getElementById(
                    'amazon-buy-button-wrapper'
                )

                if (response.country === 'United Kingdom') {
                    amazon?.remove()
                } else {
                    shopify?.remove()
                }
            } catch (error) {
                // console.log(error)
            }
        })
        .catch((reason: any) => {
            console.log(reason)
            // console.log('Request failed');
        })
</script>

<style>
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-fade-in-up {
        animation: fadeInUp 0.6s ease-out forwards;
        opacity: 0;
    }
</style>
