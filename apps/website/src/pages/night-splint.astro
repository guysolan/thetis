---
import Layout from "@/layouts/Layout.astro";
import { ClientRouter } from "astro:transitions";
import Slide from "@/components/Slide.astro";
import NightSplintSchema from "@/schemas/NightSplintSchema.astro";
import DownloadList from "@/components/DownloadList.astro";
import SizeChart from "@/components/SizeChart.jsx";
import NightSplintFAQs from "@/components/NightSplintFAQs.tsx";
// import ReviewCarousel from "@/components/reviews/ReviewCarousel";
import SimplyBrilliantQuote from "@/components/reviews/SimplyBrilliantQuote.astro";
import SleepInYourWellies from "@/components/SleepInYourWellies.tsx";
import NightSplintFeatures from "@/components/products/night-splint/NightSplintFeatures.astro";
import NightSplintUsage from "@/components/products/night-splint/NightSplintUsage.astro";
import NightSplintProsCons from "@/components/products/night-splint/NightSplintProsCons.astro";
import NightSplintInstructions from "@/components/products/night-splint/night-splint-instructions/index.astro";
import NightSplintHero from '../components/products/night-splint/NightSplintHero.astro';
import GetInTouch from '../components/CTA/GetInTouch.astro';
---

<Fragment slot="head">
  <NightSplintSchema />
  <ClientRouter />
</Fragment>

<Layout
    title="Achilles Tendon Rupture Night Splint"
    description="Thetis Medical's Achilles rupture night splint to make sleeping more pleasant and bearable. The brace straps to the leg to prevent further tendon injury."
    image="https://thetismedical.com/images/green-shell.png"
>
    <main class="">
        <NightSplintHero />

        <div class="mt-8 lg:mt-16">
        <SleepInYourWellies client:load />
        </div>

        <NightSplintFeatures />

        <NightSplintUsage/>

        <SimplyBrilliantQuote />
       
        <NightSplintProsCons/>

        <section class="flex flex-col items-center py-16">
            <div class="flex flex-col items-center mx-auto px-8 md:px-0 text-center">
                <h2 class="mb-6 font-semibold text-3xl">Ready for More Comfortable Recovery?</h2>
                <p class="mb-8 text-gray-700 text-xl">Join thousands of patients who've improved their recovery experience</p>
            </div>
            <!-- <ReviewCarousel client:load/> -->
        </section>
   
        <NightSplintInstructions />

        <Slide title="Sizing">
            <SizeChart />
        </Slide>

        <Slide title="Downloads">
            <DownloadList
                downloads={[
                    {
                        title: 'Night Splint Instructions.pdf',
                        href: '/images/documents/screen-instructions-induvidual.pdf',
                    },
                    {
                        title: 'Night Splint Information Brochure.pdf',
                        href: '/documents/information-brochure-night-splint.pdf',
                    },
                ]}
            />
        </Slide>

        <GetInTouch
            title="Sound Interesting?"
            paragraph="Want to get a sample, speak to us or just learn more?"
        />
        <Slide title="FAQs">
            <NightSplintFAQs client:load />
        </Slide>
    </main>
</Layout>

<script>
    fetch('https://extreme-ip-lookup.com/json/?key=mRicTdUafjFRd3Ufqftq')
        .then((res) => res.json())
        .then((response) => {
            console.log('Country: ', response.country)
            try {
                // Check if on Night Splint Page
                const shopify = document.getElementById(
                    'shopify-buy-button-wrapper'
                )
                const amazon = document.getElementById(
                    'amazon-buy-button-wrapper'
                )

                if (response.country === 'United Kingdom') {
                    amazon?.remove()
                } else {
                    shopify?.remove()
                }
            } catch (error) {
                // console.log(error)
            }
        })
        .catch((reason: any) => {
            console.log(reason)
            // console.log('Request failed');
        })
</script>

<style>
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-fade-in-up {
        animation: fadeInUp 0.6s ease-out forwards;
        opacity: 0;
    }
</style>
