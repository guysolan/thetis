---
import Layout from "@/layouts/Layout.astro";
import ColorGradientInOut from "@/components/ColorGradientInOut.astro";
import HighlightedWord from "@/components/HighlightedWord";
import { buttonVariants } from "@/components/ui/button";
import { cn } from "@/lib/utils";
import Image from "astro/components/Image.astro";
import TendonStiffnessImage from "@/assets/tendon-stiffness-after-rupture.png";
import CourseBuyButton from "@/components/CourseBuyButton";
import { SHOPIFY_COURSE_PRODUCTS } from "@/lib/shopify-course-price";
import InfiniteReviews from "@/components/reviews/InfiniteReviews.astro";
import { Image as AstroImage } from "astro:assets";
import Review1Image from "@/assets/review-1.png";
import Review2Image from "@/assets/review-2.png";
import Review3Image from "@/assets/review-3.png";
import {
    Mail,
    BookOpen,
    GraduationCap,
    ArrowRight,
    Check,
    Clock,
    Calendar,
    Video,
    Star,
    Lock,
    Play,
    Stethoscope,
    Footprints,
    TrendingUp,
    Zap,
    Heart,
} from "lucide-react";

// Lesson previews organized by phase
const lessonPreviews = [
    {
        phase: "Phase 1: Immobilization",
        weeks: "Weeks 0-6",
        icon: Stethoscope,
        color: "from-primary to-primary/70",
        bgColor: "bg-primary/5 dark:bg-primary/10",
        borderColor: "border-primary/20 dark:border-primary/30",
        lessons: [
            "Emergency care: What just happened?",
            "A&E expectations and what to ask",
            "Blood clot prevention strategies",
            "Choosing your walking boot",
            "Setting up your recovery station",
            "Proper elevation techniques",
            "Sleeping solutions and positions",
            "What's normal vs what's urgent",
            "Managing pain and swelling",
            "Early exercises (safe movements)",
        ],
    },
    {
        phase: "Phase 2: Post-Immobilization",
        weeks: "Weeks 6-12",
        icon: Footprints,
        color: "from-primary/90 to-primary/60",
        bgColor: "bg-primary/8 dark:bg-primary/12",
        borderColor: "border-primary/25 dark:border-primary/35",
        lessons: [
            "Transitioning out of the boot",
            "First steps without support",
            "Progressive weight bearing",
            "Early strengthening exercises",
            "Balance and proprioception",
            "Scar massage techniques",
            "Range of motion exercises",
            "Walking patterns and gait",
        ],
    },
    {
        phase: "Phase 3: Building Capacity",
        weeks: "Weeks 12-18",
        icon: TrendingUp,
        color: "from-primary/80 to-primary/50",
        bgColor: "bg-primary/10 dark:bg-primary/15",
        borderColor: "border-primary/30 dark:border-primary/40",
        lessons: [
            "Single leg exercises",
            "Calf raise progressions",
            "Building endurance",
            "Functional movements",
            "Return to daily activities",
            "Exercise load management",
        ],
    },
    {
        phase: "Phase 4: Power & Sport",
        weeks: "Weeks 18+",
        icon: Zap,
        color: "from-primary/70 to-primary/40",
        bgColor: "bg-primary/12 dark:bg-primary/18",
        borderColor: "border-primary/35 dark:border-primary/45",
        lessons: [
            "Explosive strength training",
            "Plyometric exercises",
            "Sport-specific training",
            "Return to running protocols",
            "Performance testing",
            "Long-term maintenance",
        ],
    },
    {
        phase: "Throughout Your Recovery",
        weeks: "All Phases",
        icon: Heart,
        color: "from-primary to-primary/80",
        bgColor: "bg-primary/5 dark:bg-primary/10",
        borderColor: "border-primary/20 dark:border-primary/30",
        lessons: [
            "Questions for your surgeon",
            "Product recommendations",
            "Boot comparison guide",
            "Sleep and washing solutions",
            "Week-by-week timeline",
            "When to seek urgent care",
        ],
    },
];
---

<Layout
    title="Complete Achilles Recovery Course - 31 Expert Lessons | Thetis Medical"
    description="Master your Achilles rupture recovery with 31 structured lessons covering every phase. From emergency care to return to sport. Expert guidance, exercises, and practical tips."
    image="https://thetismedical.com/images/night-splint.png"
    lang="en"
>
    <main class="space-y-16">
        <!-- Hero Section - Matching Home Page Style -->
        <section
            class="bg-gradient-to-b from-primary/10 to-white py-16 md:py-24"
        >
            <div class="mx-auto px-4 max-w-7xl">
                <div class="flex lg:flex-row flex-col items-center gap-12">
                    <div class="flex-1 lg:text-left text-center">
                        <!-- Trust Badge -->
                        <div
                            class="inline-flex items-center gap-2 bg-primary/10 mb-4 px-4 py-2 rounded-full"
                        >
                            <span class="font-bold text-primary text-lg">✓</span
                            >
                            <p
                                class="font-semibold text-primary text-sm uppercase tracking-wide"
                            >
                                Over 10,000 People Follow Thetis Recovery Advice
                            </p>
                        </div>

                        <h1
                            class="mb-4 font-bold text-neutral-900 text-4xl md:text-6xl leading-tight"
                        >
                            Master Your <span class="text-primary"
                                >Achilles Recovery</span
                            > with 31 Expert Lessons
                        </h1>
                        <p
                            class="mx-auto lg:mx-0 mb-2 max-w-2xl text-neutral-600 text-lg md:text-xl leading-relaxed"
                        >
                            Everything you need to recover from Achilles
                            rupture—all in one place.
                            <strong class="text-neutral-900"
                                >No more searching</strong
                            > across multiple sources. Get expert guidance, exercises,
                            and practical solutions week-by-week.
                        </p>
                        <p
                            class="mx-auto lg:mx-0 mb-8 max-w-2xl text-neutral-500 text-base"
                        >
                            From emergency care to return to sport. All your
                            recovery guidance in one convenient course.
                        </p>

                        <!-- Primary CTAs -->
                        <div
                            class="flex sm:flex-row flex-col justify-center lg:justify-start gap-4 mb-6"
                        >
                            <CourseBuyButton
                                productId={SHOPIFY_COURSE_PRODUCTS.ESSENTIALS_COURSE}
                                variant="default"
                                className="shadow-lg hover:shadow-xl w-full sm:w-auto font-bold text-lg transition-all"
                                client:load
                            >
                                Add to Cart →
                            </CourseBuyButton>
                            <a
                                href="/course/emails"
                                class={cn(
                                    buttonVariants({
                                        size: "lg",
                                        variant: "outline",
                                    }),
                                    "w-full sm:w-auto text-lg font-semibold",
                                )}
                            >
                                Try Free Email Course
                            </a>
                        </div>

                        <!-- Trust Signals -->
                        <div
                            class="flex flex-wrap justify-center lg:justify-start gap-x-6 gap-y-2 mb-4 text-neutral-600 text-sm"
                        >
                            <div class="flex items-center gap-2">
                                <span class="font-bold text-primary text-lg"
                                    >✓</span
                                >
                                <span class="font-medium"
                                    >31 structured lessons</span
                                >
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="font-bold text-primary text-lg"
                                    >✓</span
                                >
                                <span class="font-medium"
                                    >Surgeon-reviewed content</span
                                >
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="font-bold text-primary text-lg"
                                    >✓</span
                                >
                                <span class="font-medium"
                                    >Evidence-based protocols</span
                                >
                            </div>
                        </div>

                        <!-- Social Proof -->
                        <div
                            class="flex justify-center lg:justify-start items-center gap-3 mb-6 text-neutral-500 text-sm"
                        >
                            <div class="flex -space-x-2">
                                <AstroImage
                                    src={Review1Image}
                                    alt="Patient review"
                                    class="border-2 border-white rounded-full w-10 h-10 object-cover"
                                    width={40}
                                    height={40}
                                />
                                <AstroImage
                                    src={Review2Image}
                                    alt="Patient review"
                                    class="border-2 border-white rounded-full w-10 h-10 object-cover"
                                    width={40}
                                    height={40}
                                />
                                <AstroImage
                                    src={Review3Image}
                                    alt="Patient review"
                                    class="border-2 border-white rounded-full w-10 h-10 object-cover"
                                    width={40}
                                    height={40}
                                />
                            </div>
                            <span class="font-semibold text-neutral-900"
                                >Join 10,000+ people following Thetis recovery
                                advice</span
                            >
                        </div>
                    </div>
                    <div class="flex-shrink-0 w-full lg:w-1/2">
                        <div class="relative">
                            <Image
                                src={TendonStiffnessImage}
                                alt="Tendon Stiffness After Rupture - Educational infographic explaining biomechanical differences"
                                class="shadow-2xl rounded-xl w-full"
                            />
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Lesson Previews by Phase -->
        <section
            class="bg-gradient-to-b from-white dark:from-neutral-900 to-neutral-50 dark:to-neutral-950 py-16 md:py-24"
        >
            <div class="mx-auto px-4 max-w-7xl">
                <div class="mb-16 text-center">
                    <h2
                        class="mb-4 font-bold text-neutral-900 dark:text-neutral-100 text-3xl md:text-4xl"
                    >
                        What You'll Learn: 31 Lessons Across 5 Phases
                    </h2>
                    <p
                        class="mx-auto max-w-2xl text-neutral-600 dark:text-neutral-400 text-lg"
                    >
                        Your complete recovery roadmap, from the moment of
                        injury to returning to full activity.
                    </p>
                </div>

                <div class="space-y-10">
                    {
                        lessonPreviews.map((phase, phaseIndex) => {
                            const IconComponent = phase.icon;
                            return (
                                <div
                                    class={`${phase.bgColor} p-6 md:p-10 border-2 ${phase.borderColor} rounded-2xl shadow-sm hover:shadow-md transition-shadow`}
                                >
                                    <div class="flex md:flex-row flex-col md:items-center gap-4 mb-8">
                                        <div
                                            class={`flex justify-center items-center bg-gradient-to-br ${phase.color} rounded-xl w-16 h-16 shrink-0 shadow-lg`}
                                        >
                                            <IconComponent className="w-8 h-8 text-white" />
                                        </div>
                                        <div class="flex-1">
                                            <div class="flex flex-wrap items-center gap-3 mb-2">
                                                <h3 class="font-bold text-neutral-900 dark:text-neutral-100 text-xl md:text-2xl">
                                                    {phase.phase}
                                                </h3>
                                                <span
                                                    class={`inline-flex items-center px-3 py-1 bg-gradient-to-r ${phase.color} text-white text-xs font-semibold rounded-full`}
                                                >
                                                    {phase.weeks}
                                                </span>
                                            </div>
                                            <p class="text-neutral-600 dark:text-neutral-400 text-sm">
                                                {phase.lessons.length} lessons
                                            </p>
                                        </div>
                                    </div>
                                    <div class="gap-3 grid sm:grid-cols-2 lg:grid-cols-3">
                                        {phase.lessons.map(
                                            (lesson, lessonIndex) => (
                                                <div class="group flex items-start gap-3 bg-white dark:bg-neutral-900 hover:shadow-sm p-4 border border-neutral-200 hover:border-primary/50 dark:border-neutral-700 rounded-lg transition-all">
                                                    <div
                                                        class={`flex justify-center items-center bg-gradient-to-br ${phase.color} mt-0.5 rounded-full w-6 h-6 shrink-0 opacity-80 group-hover:opacity-100 transition-opacity`}
                                                    >
                                                        <Check className="w-3.5 h-3.5 text-white" />
                                                    </div>
                                                    <span class="font-medium text-neutral-700 dark:text-neutral-300 text-sm leading-relaxed">
                                                        {lesson}
                                                    </span>
                                                </div>
                                            ),
                                        )}
                                    </div>
                                </div>
                            );
                        })
                    }
                </div>

                <!-- CTA after lessons -->
                <div class="mt-12 text-center">
                    <p
                        class="mb-6 text-neutral-600 dark:text-neutral-400 text-lg"
                    >
                        Ready to start your recovery journey?
                    </p>
                    <CourseBuyButton
                        productId={SHOPIFY_COURSE_PRODUCTS.ESSENTIALS_COURSE}
                        variant="default"
                        className="shadow-lg font-bold text-lg"
                        client:load
                    >
                        Add to Cart
                    </CourseBuyButton>
                </div>
            </div>
        </section>

        <!-- Patient Reviews -->
        <section class="bg-white py-12 md:py-16">
            <div class="mx-auto px-4 max-w-7xl">
                <div class="mb-8 text-center">
                    <h2
                        class="mb-4 font-bold text-neutral-900 text-2xl md:text-3xl"
                    >
                        Join 10,000+ People Following Thetis Recovery Advice
                    </h2>
                    <p class="mb-6 text-neutral-600">
                        Real reviews from real people recovering from Achilles
                        rupture
                    </p>
                </div>

                <!-- 5 Short Reviews -->
                <div
                    class="gap-6 grid md:grid-cols-2 lg:grid-cols-3 mx-auto max-w-6xl"
                >
                    <!-- Review 1 -->
                    <div
                        class="bg-neutral-50 p-6 border border-neutral-200 rounded-lg"
                    >
                        <div class="flex items-center gap-1 mb-3">
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                        </div>
                        <p class="text-neutral-700 text-sm italic">
                            "The course gave me everything I needed in one
                            place. No more googling at 2am wondering if my
                            symptoms were normal."
                        </p>
                    </div>

                    <!-- Review 2 -->
                    <div
                        class="bg-neutral-50 p-6 border border-neutral-200 rounded-lg"
                    >
                        <div class="flex items-center gap-1 mb-3">
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                        </div>
                        <p class="text-neutral-700 text-sm italic">
                            "Finally, clear guidance week by week. The exercises
                            with illustrations were exactly what I needed."
                        </p>
                    </div>

                    <!-- Review 3 -->
                    <div
                        class="bg-neutral-50 p-6 border border-neutral-200 rounded-lg"
                    >
                        <div class="flex items-center gap-1 mb-3">
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                        </div>
                        <p class="text-neutral-700 text-sm italic">
                            "Worth every penny. The questions for my surgeon
                            section helped me have better conversations with my
                            doctor."
                        </p>
                    </div>

                    <!-- Review 4 -->
                    <div
                        class="bg-neutral-50 p-6 border border-neutral-200 rounded-lg"
                    >
                        <div class="flex items-center gap-1 mb-3">
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                        </div>
                        <p class="text-neutral-700 text-sm italic">
                            "I wish I had this from day one. The boot comparison
                            guide saved me so much confusion."
                        </p>
                    </div>

                    <!-- Review 5 -->
                    <div
                        class="bg-neutral-50 p-6 border border-neutral-200 rounded-lg"
                    >
                        <div class="flex items-center gap-1 mb-3">
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                            <Star
                                className="fill-amber-400 w-4 h-4 text-amber-400"
                            />
                        </div>
                        <p class="text-neutral-700 text-sm italic">
                            "The week-by-week timeline kept me on track. I knew
                            exactly what to expect and when."
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Final CTA - Matching Home Page Style -->
        <ColorGradientInOut size="lg">
            <div class="mx-auto px-4 max-w-4xl text-center">
                <h2
                    class="mb-4 font-bold text-neutral-900 text-3xl md:text-4xl"
                >
                    Ready to Master Your Recovery?
                </h2>
                <p
                    class="mx-auto mb-8 max-w-2xl text-neutral-600 text-lg leading-relaxed"
                >
                    Get instant access to all 31 lessons, exercises, and expert
                    guidance. Join over 10,000 people who have everything they
                    need for recovery in one convenient place.
                </p>
                <div
                    class="flex sm:flex-row flex-col justify-center items-center gap-4 mb-8"
                >
                    <CourseBuyButton
                        productId={SHOPIFY_COURSE_PRODUCTS.ESSENTIALS_COURSE}
                        variant="default"
                        className="shadow-lg w-full sm:w-auto font-bold text-lg"
                        client:load
                    >
                        Add to Cart →
                    </CourseBuyButton>
                    <span class="font-medium text-neutral-600">or</span>
                    <a
                        href="/course/emails"
                        class={cn(
                            buttonVariants({
                                size: "lg",
                                variant: "outline",
                            }),
                            "w-full sm:w-auto text-lg font-semibold",
                        )}
                    >
                        Start Free Course
                    </a>
                </div>
                <div class="flex flex-wrap justify-center gap-4 mb-6 text-sm">
                    <a
                        href="https://course.thetismedical.com/claim"
                        class="font-medium text-primary hover:underline"
                    >
                        Already purchased? Access your course →
                    </a>
                </div>
                <!-- Prominent Guarantee -->
                <div
                    class="bg-primary/10 mt-8 p-6 border-2 border-primary/30 rounded-lg"
                >
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0">
                            <div
                                class="flex justify-center items-center bg-primary rounded-full w-12 h-12"
                            >
                                <span class="font-bold text-white text-xl"
                                    >✓</span
                                >
                            </div>
                        </div>
                        <div class="flex-1">
                            <h3 class="mb-2 font-bold text-neutral-900 text-lg">
                                Instant Access, Lifetime Value
                            </h3>
                            <p class="text-neutral-700">
                                Get immediate access to all 31 lessons.
                                Reference them anytime during your recovery
                                journey. No expiration, no limits.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </ColorGradientInOut>
    </main>
</Layout>
