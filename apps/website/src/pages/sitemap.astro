---
import Layout from "../layouts/Layout.astro";
import { getRoutesByLanguage } from "../content/routes";
import { getLanguageFromPath } from "../utils/language";

// Get current language and routes
const currentPath = Astro.url.pathname;
const currentLang = getLanguageFromPath(currentPath);
const routes = getRoutesByLanguage(currentLang);

// Separate routes by category
const pages = routes.filter(route => 
  !route.slug.startsWith('FAQs/') && 
  !route.slug.startsWith('video/')
);
const articles = routes.filter(route => route.slug.startsWith('FAQs/'));
---

<Layout
    title="Thetis Medical Sitemap"
    description="Medical device company specialising in splints for injured Achilles Tendons. We sell an Achilles Rupture Splint and a Trauma Splint."
    image="https://thetismedical.com/images/dotty-logo"
>
    <section class="flex flex-col mx-auto my-8 px-4 w-full max-w-[900px]">
        <h1>Sitemap</h1>

        <div class="flex md:flex-row flex-col gap-x-8">
            <div class="flex-grow">
                <h2>Home</h2>
                <ul
                    class="flex flex-col gap-x-6 pt-2 pb-4 pl-8 w-full list-disc"
                >
                    {
                        pages.map((page) => {
                            return (
                                <li>
                                    <a
                                        class="font-light text-lg"
                                        href={page.href}
                                    >
                                        {page.title}
                                    </a>
                                </li>
                            );
                        })
                    }
                </ul>
                <div class="flex-grow">
                    <h2>Frequently Asked Questions</h2>
                    <ul
                        class="flex flex-col gap-x-6 pt-2 pb-4 pl-8 w-full list-disc"
                    >
                        {
                            articles.map((page) => {
                                return (
                                    <li>
                                        <a
                                            class="font-light text-lg"
                                            href={page.href}
                                        >
                                            {page.title}
                                        </a>
                                    </li>
                                );
                            })
                        }
                    </ul>
                </div>
            </div>
        </div>
    </section>
</Layout>
