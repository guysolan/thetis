---
import { buttonVariants } from "../ui/button";
import { cn } from "../../lib/utils";
import type { Lang } from "@/config/languages";
import { Mail, ArrowRight } from "lucide-react";

interface Props {
    lang?: Lang;
    variant?: "full" | "compact" | "inline";
}

const { lang = "en", variant = "full" } = Astro.props;

const content = {
    en: {
        tagline: "Recovery Course",
        heading: "Master Your Achilles Recovery",
        description:
            "Get 31 structured lessons covering every phase of recovery. From emergency care to returning to sport.",
        cta: "View Recovery Course",
        compactHeading: "Need help with your Achilles recovery?",
        compactCTA: "View Recovery Course",
        inlineText: "Get expert guidance with our",
        inlineLinkText: "recovery course",
    },
    de: {
        tagline: "Genesungskurs",
        heading: "Meistern Sie Ihre Achilles-Genesung",
        description:
            "Erhalten Sie 31 strukturierte Lektionen für jede Phase der Genesung. Von der Notfallversorgung bis zur Rückkehr zum Sport.",
        cta: "Genesungskurs ansehen",
        compactHeading: "Brauchen Sie Hilfe bei Ihrer Achilles-Genesung?",
        compactCTA: "Genesungskurs ansehen",
        inlineText: "Erhalten Sie Expertenführung mit unserem",
        inlineLinkText: "Genesungskurs",
    },
    fr: {
        tagline: "Cours de récupération",
        heading: "Maîtrisez votre récupération d'Achille",
        description:
            "Obtenez 31 leçons structurées couvrant chaque phase de récupération. Des soins d'urgence au retour au sport.",
        cta: "Voir le cours",
        compactHeading: "Besoin d'aide pour votre récupération d'Achille?",
        compactCTA: "Voir le cours",
        inlineText: "Obtenez des conseils d'experts avec notre",
        inlineLinkText: "cours de récupération",
    },
    es: {
        tagline: "Curso de recuperación",
        heading: "Domina tu recuperación de Aquiles",
        description:
            "Obtén 31 lecciones estructuradas cubriendo cada fase de recuperación. Desde atención de emergencia hasta volver al deporte.",
        cta: "Ver curso",
        compactHeading: "¿Necesitas ayuda con tu recuperación de Aquiles?",
        compactCTA: "Ver curso",
        inlineText: "Obtén orientación experta con nuestro",
        inlineLinkText: "curso de recuperación",
    },
    it: {
        tagline: "Corso di recupero",
        heading: "Padroneggia il tuo recupero di Achille",
        description:
            "Ottieni 31 lezioni strutturate che coprono ogni fase del recupero. Dalle cure d'emergenza al ritorno allo sport.",
        cta: "Vedi corso",
        compactHeading: "Hai bisogno di aiuto con il tuo recupero di Achille?",
        compactCTA: "Vedi corso",
        inlineText: "Ottieni una guida esperta con il nostro",
        inlineLinkText: "corso di recupero",
    },
};

const t = content[lang];
---

{
    variant === "full" && (
        <section class="bg-neutral-50 dark:bg-neutral-900 py-16 md:py-24">
            <div class="mx-auto px-4 max-w-2xl text-center">
                <div class="inline-flex items-center gap-2 bg-primary/20 dark:bg-primary/30 mb-6 px-4 py-1.5 rounded-full font-medium text-primary dark:text-primary/80 text-sm uppercase tracking-wide">
                    <Mail className="w-4 h-4" />
                    {t.tagline}
                </div>
                <h2 class="mb-4 font-bold text-neutral-900 dark:text-neutral-100 text-3xl">
                    {t.heading}
                </h2>
                <p class="mb-8 text-neutral-600 dark:text-neutral-400">
                    {t.description}
                </p>

                <a
                    href="/course"
                    class={cn(
                        buttonVariants({
                            variant: "default",
                            size: "lg",
                        }),
                        "justify-center gap-2",
                    )}
                >
                    <ArrowRight className="w-4 h-4" />
                    {t.cta}
                </a>
            </div>
        </section>
    )
}

{
    variant === "compact" && (
        <div class="bg-primary/10 dark:bg-primary/20 my-8 p-6 border border-primary/30 dark:border-primary/40 rounded-xl">
            <div class="flex sm:flex-row flex-col justify-between items-center gap-4">
                <div class="flex items-center gap-3 sm:text-left text-center">
                    <div class="flex justify-center items-center bg-primary/20 dark:bg-primary/30 rounded-lg w-10 h-10 shrink-0">
                        <Mail className="w-5 h-5 text-primary dark:text-primary/80" />
                    </div>
                    <p class="font-semibold text-neutral-900 dark:text-neutral-100">
                        {t.compactHeading}
                    </p>
                </div>
                <a
                    href="/course"
                    class={cn(
                        buttonVariants({ variant: "default", size: "default" }),
                        "whitespace-nowrap gap-2",
                    )}
                >
                    {t.compactCTA}
                    <ArrowRight className="w-4 h-4" />
                </a>
            </div>
        </div>
    )
}

{
    variant === "inline" && (
        <p class="bg-primary/10 dark:bg-primary/20 my-4 p-4 border-primary border-l-4 rounded-lg text-neutral-600 dark:text-neutral-400">
            {t.inlineText}{" "}
            <a
                href="/course"
                class="inline-flex items-center gap-1 font-medium text-primary dark:text-primary/80 hover:underline"
            >
                {t.inlineLinkText}
                <ArrowRight className="w-3 h-3" />
            </a>
            .
        </p>
    )
}
