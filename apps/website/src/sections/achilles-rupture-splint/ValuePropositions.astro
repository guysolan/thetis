---
import HighlightedParagraph from "@/components/HighlightedParagraph.tsx";
import { ExternalLink } from "lucide-astro";

import type { Lang } from "@/config/languages.ts";
import type { HighlightedParagraphProps } from "@/components/HighlightedParagraph.tsx";

const { lang = "en" } = Astro.props as { lang?: Lang };

const content: Record<
    Lang,
    {
        title: HighlightedParagraphProps;
        subtitle: string;
        cards: {
            title: HighlightedParagraphProps;
            description: string;
            quote: string;
            link?: { text: string; href: string };
        }[];
    }
> = {
    en: {
        title: [
            {
                text: "Finally Sleep Comfortably During Recovery",
                highlighted: false,
            },
        ],
        subtitle: "The lightweight alternative to sleeping in your heavy boot",
        cards: [
            {
                title: [{ text: "Sleep Better Tonight", highlighted: false }],
                description:
                    "Experience the difference in your sleep quality. ",
                quote: "The boot was making sleep impossible! It felt like a torture chamber at night.",
            },
            {
                title: [{ text: "Light & Breathable", highlighted: false }],
                description:
                    "Unlike the heavy boot, our splint keeps you cool and comfortable. ",
                quote: "So much easier than the big boot. Finally lets your leg breathe!",
            },
            {
                title: [{ text: "Safe Achilles Healing", highlighted: false }],
                description: "Maintains optimal position for recovery. ",
                quote: "Works perfect to keep my foot in plantar flexion. Sleep is critical to recovery.",
                link: {
                    text: "3000 patients, no complications",
                    href: "/evidence/safety",
                },
            },
            {
                title: [
                    { text: "Surgeon-Approved Design", highlighted: false },
                ],
                description: "Trusted by medical professionals. ",
                quote: "My surgeon, who also has an MA in engineering, gave his approval after reviewing the design.",
                link: {
                    text: "Read more clinician reviews",
                    href: "/reviews?filter=clinician",
                },
            },
        ],
    },
    de: {
        title: [
            {
                text: "Endlich bequem schlafen während der Erholung",
                highlighted: false,
            },
        ],
        subtitle: "Die leichte Alternative zum Schlafen im schweren Stiefel",
        cards: [
            {
                title: [
                    {
                        text: "Schlafen Sie heute Nacht besser",
                        highlighted: false,
                    },
                ],
                description:
                    "Erleben Sie den Unterschied in Ihrer Schlafqualität. ",
                quote: "Der Stiefel machte das Schlafen unmöglich! Es fühlte sich nachts wie eine Folterkammer an.",
            },
            {
                title: [{ text: "Leicht & Atmungsaktiv", highlighted: false }],
                description:
                    "Anders als der schwere Stiefel hält unsere Schiene Sie kühl und bequem. ",
                quote: "So viel einfacher als der große Stiefel. Lässt Ihr Bein endlich atmen!",
            },
            {
                title: [
                    { text: "Sichere Achilles-Heilung", highlighted: false },
                ],
                description:
                    "Behält die optimale Position für die Erholung bei. ",
                quote: "Funktioniert perfekt, um meinen Fuß in Plantarflexion zu halten. Schlaf ist entscheidend für die Erholung.",
                link: {
                    text: "3000 Patienten, keine Komplikationen",
                    href: "/evidence/safety",
                },
            },
            {
                title: [
                    {
                        text: "Chirurgisch genehmigtes Design",
                        highlighted: false,
                    },
                ],
                description: "Vertraut von medizinischen Fachkräften. ",
                quote: "Mein Chirurg, der auch einen MA in Ingenieurwesen hat, gab seine Zustimmung nach der Überprüfung des Designs.",
                link: {
                    text: "Weitere Kliniker-Bewertungen lesen",
                    href: "/reviews?filter=clinician",
                },
            },
        ],
    },
    fr: {
        title: [
            {
                text: "Enfin dormir confortablement pendant la récupération",
                highlighted: false,
            },
        ],
        subtitle: "L'alternative légère pour dormir dans votre botte lourde",
        cards: [
            {
                title: [{ text: "Dormez mieux ce soir", highlighted: false }],
                description:
                    "Découvrez la différence dans votre qualité de sommeil. ",
                quote: "La botte rendait le sommeil impossible ! On aurait dit une chambre de torture la nuit.",
            },
            {
                title: [{ text: "Léger et respirant", highlighted: false }],
                description:
                    "Contrairement à la botte lourde, notre attelle vous garde au frais et à l'aise. ",
                quote: "Tellement plus facile que la grosse botte. Laisse enfin votre jambe respirer !",
            },
            {
                title: [
                    {
                        text: "Guérison sûre du tendon d'Achille",
                        highlighted: false,
                    },
                ],
                description:
                    "Maintient une position optimale pour la récupération. ",
                quote: "Fonctionne parfaitement pour maintenir mon pied en flexion plantaire. Le sommeil est essentiel à la récupération.",
                link: {
                    text: "3000 patients, aucune complication",
                    href: "/evidence/safety",
                },
            },
            {
                title: [
                    {
                        text: "Conception approuvée par les chirurgiens",
                        highlighted: false,
                    },
                ],
                description: "Reconnu par les professionnels de la santé. ",
                quote: "Mon chirurgien, qui a également une maîtrise en ingénierie, a donné son approbation après avoir examiné la conception.",
                link: {
                    text: "Lire plus d'avis de cliniciens",
                    href: "/reviews?filter=clinician",
                },
            },
        ],
    },
    es: {
        title: [
            {
                text: "Finalmente duerma cómodamente durante la recuperación",
                highlighted: false,
            },
        ],
        subtitle: "La alternativa ligera para dormir con su pesada bota",
        cards: [
            {
                title: [
                    { text: "Duerma mejor esta noche", highlighted: false },
                ],
                description:
                    "Experimente la diferencia en la calidad de su sueño. ",
                quote: "¡La bota hacía imposible dormir! Parecía una cámara de tortura por la noche.",
            },
            {
                title: [{ text: "Ligero y Transpirable", highlighted: false }],
                description:
                    "A diferencia de la bota pesada, nuestra férula le mantiene fresco y cómodo. ",
                quote: "Mucho más fácil que la bota grande. ¡Por fin deja respirar a tu pierna!",
            },
            {
                title: [
                    {
                        text: "Curación segura del tendón de Aquiles",
                        highlighted: false,
                    },
                ],
                description:
                    "Mantiene la posición óptima para la recuperación. ",
                quote: "Funciona perfectamente para mantener mi pie en flexión plantar. El sueño es crucial para la recuperación.",
                link: {
                    text: "3000 pacientes, sin complicaciones",
                    href: "/evidence/safety",
                },
            },
            {
                title: [
                    {
                        text: "Diseño aprobado por cirujanos",
                        highlighted: false,
                    },
                ],
                description: "Con la confianza de los profesionales médicos. ",
                quote: "Mi cirujano, que también tiene un máster en ingeniería, dio su aprobación tras revisar el diseño.",
                link: {
                    text: "Leer más opiniones de médicos",
                    href: "/reviews?filter=clinician",
                },
            },
        ],
    },
    it: {
        title: [
            {
                text: "Finalmente dormi comodamente durante il recupero",
                highlighted: false,
            },
        ],
        subtitle: "L'alternativa leggera al dormire con il pesante stivale",
        cards: [
            {
                title: [{ text: "Dormi meglio stanotte", highlighted: false }],
                description:
                    "Sperimenta la differenza nella qualità del tuo sonno. ",
                quote: "Lo stivale rendeva impossibile dormire! Sembrava una camera di tortura di notte.",
            },
            {
                title: [{ text: "Leggero e Traspirante", highlighted: false }],
                description:
                    "A differenza del pesante stivale, la nostra stecca ti mantiene fresco e comodo. ",
                quote: "Molto più facile del grande stivale. Finalmente lascia respirare la tua gamba!",
            },
            {
                title: [
                    {
                        text: "Guarigione sicura del tendine d'Achille",
                        highlighted: false,
                    },
                ],
                description: "Mantiene la posizione ottimale per il recupero. ",
                quote: "Funziona perfettamente per mantenere il mio piede in flessione plantare. Il sonno è fondamentale per il recupero.",
                link: {
                    text: "3000 pazienti, nessuna complicazione",
                    href: "/evidence/safety",
                },
            },
            {
                title: [
                    {
                        text: "Design approvato dai chirurghi",
                        highlighted: false,
                    },
                ],
                description: "Fidato dai professionisti medici. ",
                quote: "Il mio chirurgo, che ha anche una laurea magistrale in ingegneria, ha dato la sua approvazione dopo aver esaminato il design.",
                link: {
                    text: "Leggi più recensioni di medici",
                    href: "/reviews?filter=clinician",
                },
            },
        ],
    },
};

const currentContent = content[lang as keyof typeof content];
---

<div class="bg-gradient-to-t from-primary/15 to-white h-24"></div>
<div class="bg-primary/15 py-8 w-full">
    <div class="mx-auto px-4 container">
        <div class="mx-auto mb-12 max-w-3xl text-center">
            <h2
                class="mb-4 font-semibold text-neutral-950 dark:text-neutral-50 text-3xl md:text-4xl leading-[120%]"
            >
                <HighlightedParagraph paragraph={currentContent.title} />
            </h2>
            <p
                class="text-gray-800 dark:text-neutral-200 text-lg leading-relaxed"
            >
                {currentContent.subtitle}
            </p>
        </div>

        <div class="gap-8 grid md:grid-cols-2 mx-auto max-w-4xl">
            {
                currentContent.cards.map((card) => (
                    <div class="group bg-white dark:bg-neutral-900 shadow-sm hover:shadow-lg p-6 rounded-lg transition-all duration-300">
                        <h3 class="mb-3 font-semibold text-neutral-900 dark:text-neutral-50 text-xl">
                            <HighlightedParagraph paragraph={card.title} />
                        </h3>
                        <p class="text-gray-600 dark:text-neutral-400">
                            {card.description}
                            <span class="italic">"{card.quote}"</span>
                        </p>
                        {card.link && (
                            <a
                                href={card.link.href}
                                class="inline-flex items-center gap-1 mt-2 text-primary hover:text-primary/80 underline underline-offset-2 transition-colors"
                            >
                                <span>{card.link.text}</span>
                                <ExternalLink class="w-4 h-4" />
                            </a>
                        )}
                    </div>
                ))
            }
        </div>
    </div>
</div>

<div class="bg-gradient-to-b from-primary/15 to-white h-24"></div>
