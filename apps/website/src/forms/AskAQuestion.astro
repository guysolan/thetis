---
import Label from "@/components/form/Label.astro";
import Input from "@/components/form/Input.astro";
import FormWrap from "@/components/form/FormWrap.astro";
import TextArea from "@/components/form/TextArea.astro";
import OptOut from "@/components/form/OptOut.astro";
import type { Lang } from "@/config/languages.ts";

const { lang = "en" } = Astro.props as { lang: Lang };
const content = {
    en: {
        title: "Ask a Question",
        description: "Have questions about our products? We're here to help.",
        nameLabel: "Name",
        emailLabel: "Email",
        messageLabel: "Message",
        submitButton: "Send Message",
    },
    de: {
        title: "Frage stellen",
        description:
            "Haben Sie Fragen zu unseren Produkten? Wir sind hier, um zu helfen.",
        nameLabel: "Name",
        emailLabel: "E-Mail",
        messageLabel: "Nachricht",
        submitButton: "Nachricht senden",
    },
    fr: {
        title: "Poser une Question",
        description:
            "Vous avez des questions sur nos produits ? Nous sommes là pour vous aider.",
        nameLabel: "Nom",
        emailLabel: "E-mail",
        messageLabel: "Message",
        submitButton: "Envoyer le message",
    },
    es: {
        title: "Hacer una Pregunta",
        description:
            "¿Tiene preguntas sobre nuestros productos? Estamos aquí para ayudar.",
        nameLabel: "Nombre",
        emailLabel: "Correo electrónico",
        messageLabel: "Mensaje",
        submitButton: "Enviar mensaje",
    },
    it: {
        title: "Fare una Domanda",
        description: "Hai domande sui nostri prodotti? Siamo qui per aiutarti.",
        nameLabel: "Nome",
        emailLabel: "Email",
        messageLabel: "Messaggio",
        submitButton: "Invia messaggio",
    },
};

const currentContent = content[lang as keyof typeof content];
---

<FormWrap formId="mdobaqwr">
    <div class="space-y-8 w-full">
        <h2
            class="font-semibold text-neutral-950 text-2xl md:text-3xl leading-[105%]"
        >
            {currentContent.title}
        </h2>
        <p class="text-gray-800 text-lg leading-relaxed">
            {currentContent.description}
        </p>

        <div class="space-y-6">
            <div class="form-group">
                <Label labelFor="name">{currentContent.nameLabel}</Label>
                <Input name="name" type="text" required={true} />
            </div>

            <div class="form-group">
                <Label labelFor="email">{currentContent.emailLabel}</Label>
                <Input required={true} name="email" type="email" />
            </div>

            <div class="form-group">
                <Label labelFor="message">{currentContent.messageLabel}</Label>
                <TextArea name="message" rows={4} maxlength={1000} />
            </div>

            <OptOut />

            <button
                type="submit"
                class="bg-primary hover:bg-primary/90 hover:shadow-md px-8 py-4 rounded-lg w-full md:w-auto font-medium text-white transition-all"
            >
                {currentContent.submitButton}
            </button>
        </div>
    </div>
</FormWrap>
