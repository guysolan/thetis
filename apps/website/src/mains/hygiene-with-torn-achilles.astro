---
import Layout from "@/layouts/Layout.astro";
import type { Lang } from "@/config/languages.ts";
import HygieneSplintSchema from "@/schemas/HygieneSplintSchema.astro";
import HygieneHero from "@/sections/hygiene-with-torn-achilles/HygieneHero.astro";
import HygieneReasons from "@/sections/hygiene-with-torn-achilles/HygieneReasons.astro";
import HygieneFAQs from "@/sections/hygiene-with-torn-achilles/HygieneFAQs";
import HygieneOrderCallout from "@/sections/hygiene-with-torn-achilles/HygieneOrderCallout.astro";
import Reviews from "@/components/reviews/InfiniteReviews.astro";
import EnhancedReviewCarousel from "@/components/reviews/EnhancedReviewCarousel";
import SurgeonsCarousel from "@/components/SurgeonsCarousel";
import AthletesCarousel from "@/components/AthletesCarousel";
import SubscribeBlock from "@/components/CTA/SubscribeBlock.astro";
import StickyAddToCart from "@/components/StickyAddToCart.tsx";
import ExitIntentPopup from "@/components/ExitIntentPopup.tsx";
import ProductIntroduction from "@/sections/shared/ProductIntroduction.astro";
import { getRouteBySlugAndLanguage } from "@/content/routes";
import { Check, AlertTriangle, Bed, Sparkles, Shirt, RefreshCw } from "lucide-react";

const { lang = "en" } = Astro.props as { lang?: Lang };
const splintRoute = getRouteBySlugAndLanguage("splint", lang);

const content = {
    en: {
        title: "Keep Your Bed Clean During Achilles Rupture Recovery | Hygienic Night Splint",
        description:
            "Stop dirty boots ruining your sheets. The Thetis night splint has a washable, removable liner that keeps your bed clean and hygienic during Achilles rupture recovery.",
        image: "https://thetismedical.com/images/night-splint/Thetis%20Medical%20Achilles%20Rupture%20Night%20Splint%20In%20Bed.jpg",
        hero: {
            title: [
                { text: "Keep Your ", highlighted: false },
                { text: "Bed Clean", highlighted: true },
                { text: " During Recovery", highlighted: false },
            ],
            description:
                "Stop worrying about dirty boots in your bed. The Thetis night splint features a removable, washable liner that keeps your sheets clean and fresh throughout your Achilles rupture recovery.",
        },
    },
    de: {
        title: "Halten Sie Ihr Bett sauber während der Achillessehnenruptur-Erholung | Hygienische Nachtschiene",
        description:
            "Stoppen Sie schmutzige Stiefel, die Ihre Laken ruinieren. Die Thetis-Nachtschiene hat eine waschbare, herausnehmbare Innenschicht, die Ihr Bett während der Achillessehnenruptur-Erholung sauber und hygienisch hält.",
        image: "https://thetismedical.com/images/night-splint/Thetis%20Medical%20Achilles%20Rupture%20Night%20Splint%20In%20Bed.jpg",
        hero: {
            title: [
                { text: "Halten Sie Ihr ", highlighted: false },
                { text: "Bett sauber", highlighted: true },
                { text: " während der Erholung", highlighted: false },
            ],
            description:
                "Hören Sie auf, sich um schmutzige Stiefel in Ihrem Bett zu sorgen. Die Thetis-Nachtschiene verfügt über eine herausnehmbare, waschbare Innenschicht, die Ihre Laken während Ihrer Achillessehnenruptur-Erholung sauber und frisch hält.",
        },
    },
    fr: {
        title: "Gardez votre lit propre pendant la récupération de la rupture d'Achille | Attelle de nuit hygiénique",
        description:
            "Arrêtez les bottes sales qui abîment vos draps. L'attelle de nuit Thetis a une doublure amovible et lavable qui garde votre lit propre et hygiénique pendant la récupération de la rupture d'Achille.",
        image: "https://thetismedical.com/images/night-splint/Thetis%20Medical%20Achilles%20Rupture%20Night%20Splint%20In%20Bed.jpg",
        hero: {
            title: [
                { text: "Gardez votre ", highlighted: false },
                { text: "lit propre", highlighted: true },
                { text: " pendant la récupération", highlighted: false },
            ],
            description:
                "Arrêtez de vous inquiéter des bottes sales dans votre lit. L'attelle de nuit Thetis dispose d'une doublure amovible et lavable qui garde vos draps propres et frais tout au long de votre récupération de la rupture d'Achille.",
        },
    },
    es: {
        title: "Mantenga su cama limpia durante la recuperación de rotura de Aquiles | Férula nocturna higiénica",
        description:
            "Deje de que las botas sucias arruinen sus sábanas. La férula nocturna Thetis tiene un forro extraíble y lavable que mantiene su cama limpia e higiénica durante la recuperación de la rotura de Aquiles.",
        image: "https://thetismedical.com/images/night-splint/Thetis%20Medical%20Achilles%20Rupture%20Night%20Splint%20In%20Bed.jpg",
        hero: {
            title: [
                { text: "Mantenga su ", highlighted: false },
                { text: "cama limpia", highlighted: true },
                { text: " durante la recuperación", highlighted: false },
            ],
            description:
                "Deje de preocuparse por las botas sucias en su cama. La férula nocturna Thetis cuenta con un forro extraíble y lavable que mantiene sus sábanas limpias y frescas durante su recuperación de la rotura de Aquiles.",
        },
    },
    it: {
        title: "Mantieni il tuo letto pulito durante il recupero dalla rottura dell'Achille | Stecca notturna igienica",
        description:
            "Ferma gli stivali sporchi che rovinano le tue lenzuola. La stecca notturna Thetis ha un rivestimento rimovibile e lavabile che mantiene il tuo letto pulito e igienico durante il recupero dalla rottura dell'Achille.",
        image: "https://thetismedical.com/images/night-splint/Thetis%20Medical%20Achilles%20Rupture%20Night%20Splint%20In%20Bed.jpg",
        hero: {
            title: [
                { text: "Mantieni il tuo ", highlighted: false },
                { text: "letto pulito", highlighted: true },
                { text: " durante il recupero", highlighted: false },
            ],
            description:
                "Smetti di preoccuparti degli stivali sporchi nel tuo letto. La stecca notturna Thetis dispone di un rivestimento rimovibile e lavabile che mantiene le tue lenzuola pulite e fresche durante il tuo recupero dalla rottura dell'Achille.",
        },
    },
};

const currentContent = content[lang as keyof typeof content];

// Educational content about bed hygiene
const hygieneEducation = {
    en: {
        sectionTitle: "Why Your Boot Makes Your Bed Dirty",
        sectionSubtitle: "Understanding the problem helps you solve it",
        quote: "One of the most frustrating parts of recovery is wearing the same boot you walked in all day to bed. The sole picks up dirt, dust, and debris - and it all ends up in your sheets.",
        problems: [
            {
                title: "Dirty Boot Soles",
                description: "You walk on floors, streets, and various surfaces during the day. All that dirt transfers to your bedding at night.",
                icon: "bed"
            },
            {
                title: "Hard to Clean",
                description: "Walking boots aren't designed to be easily cleaned. You can't just throw them in the washing machine.",
                icon: "refresh"
            },
            {
                title: "Constant Laundry",
                description: "You end up washing your sheets much more frequently, adding to the burden of recovery.",
                icon: "shirt"
            },
            {
                title: "Comfort & Hygiene",
                description: "Sleeping in a clean bed is important for rest and recovery. Dirty bedding affects sleep quality.",
                icon: "sparkles"
            }
        ],
        tips: {
            title: "Tips for Keeping Your Bed Clean",
            items: [
                "Use a dedicated night splint instead of wearing your boot to bed",
                "If you must wear the boot, cover the sole with a clean pillowcase",
                "Keep a towel or sheet under your booted leg",
                "Wipe down your boot sole before bed",
                "Change sheets more frequently during recovery"
            ]
        },
        solution: {
            title: "The Night Splint Solution",
            description: "A night splint like the Thetis splint is designed specifically for sleeping. It never touches the ground, stays clean, and has a removable washable liner for easy hygiene maintenance."
        }
    },
    de: {
        sectionTitle: "Warum Ihr Stiefel Ihr Bett schmutzig macht",
        sectionSubtitle: "Das Problem zu verstehen hilft, es zu lösen",
        quote: "Einer der frustrierendsten Teile der Genesung ist, denselben Stiefel, in dem man den ganzen Tag gelaufen ist, im Bett zu tragen.",
        problems: [
            {
                title: "Schmutzige Stiefelsohlen",
                description: "Sie laufen tagsüber auf Böden, Straßen und verschiedenen Oberflächen. All dieser Schmutz überträgt sich nachts auf Ihre Bettwäsche.",
                icon: "bed"
            },
            {
                title: "Schwer zu reinigen",
                description: "Gehstiefel sind nicht für einfache Reinigung konzipiert. Man kann sie nicht einfach in die Waschmaschine werfen.",
                icon: "refresh"
            },
            {
                title: "Ständiges Waschen",
                description: "Sie waschen Ihre Laken viel häufiger, was die Belastung der Genesung erhöht.",
                icon: "shirt"
            },
            {
                title: "Komfort & Hygiene",
                description: "In einem sauberen Bett zu schlafen ist wichtig für Ruhe und Erholung.",
                icon: "sparkles"
            }
        ],
        tips: {
            title: "Tipps für ein sauberes Bett",
            items: [
                "Verwenden Sie eine spezielle Nachtschiene statt des Stiefels im Bett",
                "Wenn Sie den Stiefel tragen müssen, bedecken Sie die Sohle mit einem Kissenbezug",
                "Legen Sie ein Handtuch unter Ihr Bein mit dem Stiefel",
                "Wischen Sie die Stiefelsohle vor dem Schlafengehen ab",
                "Wechseln Sie die Laken während der Genesung häufiger"
            ]
        },
        solution: {
            title: "Die Nachtschienen-Lösung",
            description: "Eine Nachtschiene wie die Thetis-Schiene ist speziell zum Schlafen konzipiert. Sie berührt nie den Boden und hat eine waschbare Innenschicht."
        }
    },
    fr: {
        sectionTitle: "Pourquoi votre botte salit votre lit",
        sectionSubtitle: "Comprendre le problème aide à le résoudre",
        quote: "L'une des parties les plus frustrantes de la récupération est de porter la même botte dans laquelle vous avez marché toute la journée au lit.",
        problems: [
            {
                title: "Semelles de botte sales",
                description: "Vous marchez sur des sols, des rues et diverses surfaces pendant la journée. Toute cette saleté se transfère sur votre literie la nuit.",
                icon: "bed"
            },
            {
                title: "Difficile à nettoyer",
                description: "Les bottes de marche ne sont pas conçues pour être facilement nettoyées. On ne peut pas les mettre à la machine.",
                icon: "refresh"
            },
            {
                title: "Lessive constante",
                description: "Vous finissez par laver vos draps beaucoup plus fréquemment.",
                icon: "shirt"
            },
            {
                title: "Confort & Hygiène",
                description: "Dormir dans un lit propre est important pour le repos et la récupération.",
                icon: "sparkles"
            }
        ],
        tips: {
            title: "Conseils pour garder votre lit propre",
            items: [
                "Utilisez une attelle de nuit dédiée au lieu de porter votre botte au lit",
                "Si vous devez porter la botte, couvrez la semelle avec une taie d'oreiller",
                "Gardez une serviette sous votre jambe avec la botte",
                "Essuyez la semelle de votre botte avant de vous coucher",
                "Changez les draps plus fréquemment pendant la récupération"
            ]
        },
        solution: {
            title: "La solution de l'attelle de nuit",
            description: "Une attelle de nuit comme l'attelle Thetis est conçue spécialement pour dormir. Elle ne touche jamais le sol et a une doublure lavable."
        }
    },
    es: {
        sectionTitle: "Por qué su bota ensucia su cama",
        sectionSubtitle: "Entender el problema ayuda a resolverlo",
        quote: "Una de las partes más frustrantes de la recuperación es usar la misma bota con la que caminó todo el día en la cama.",
        problems: [
            {
                title: "Suelas de bota sucias",
                description: "Camina sobre pisos, calles y varias superficies durante el día. Toda esa suciedad se transfiere a su ropa de cama por la noche.",
                icon: "bed"
            },
            {
                title: "Difícil de limpiar",
                description: "Las botas de caminar no están diseñadas para limpiarse fácilmente. No puede simplemente ponerlas en la lavadora.",
                icon: "refresh"
            },
            {
                title: "Lavado constante",
                description: "Termina lavando sus sábanas con mucha más frecuencia.",
                icon: "shirt"
            },
            {
                title: "Comodidad e higiene",
                description: "Dormir en una cama limpia es importante para el descanso y la recuperación.",
                icon: "sparkles"
            }
        ],
        tips: {
            title: "Consejos para mantener su cama limpia",
            items: [
                "Use una férula nocturna dedicada en lugar de usar su bota en la cama",
                "Si debe usar la bota, cubra la suela con una funda de almohada",
                "Mantenga una toalla debajo de su pierna con la bota",
                "Limpie la suela de su bota antes de acostarse",
                "Cambie las sábanas más frecuentemente durante la recuperación"
            ]
        },
        solution: {
            title: "La solución de la férula nocturna",
            description: "Una férula nocturna como la férula Thetis está diseñada específicamente para dormir. Nunca toca el suelo y tiene un forro lavable."
        }
    },
    it: {
        sectionTitle: "Perché il tuo stivale sporca il letto",
        sectionSubtitle: "Capire il problema aiuta a risolverlo",
        quote: "Una delle parti più frustranti del recupero è indossare lo stesso stivale con cui hai camminato tutto il giorno a letto.",
        problems: [
            {
                title: "Suole dello stivale sporche",
                description: "Cammini su pavimenti, strade e varie superfici durante il giorno. Tutto quello sporco si trasferisce sulla tua biancheria da letto di notte.",
                icon: "bed"
            },
            {
                title: "Difficile da pulire",
                description: "Gli stivali da passeggio non sono progettati per essere facilmente puliti. Non puoi semplicemente metterli in lavatrice.",
                icon: "refresh"
            },
            {
                title: "Bucato costante",
                description: "Finisci per lavare le lenzuola molto più frequentemente.",
                icon: "shirt"
            },
            {
                title: "Comfort e igiene",
                description: "Dormire in un letto pulito è importante per il riposo e il recupero.",
                icon: "sparkles"
            }
        ],
        tips: {
            title: "Consigli per mantenere il letto pulito",
            items: [
                "Usa una stecca notturna dedicata invece di indossare lo stivale a letto",
                "Se devi indossare lo stivale, copri la suola con una federa",
                "Tieni un asciugamano sotto la gamba con lo stivale",
                "Pulisci la suola dello stivale prima di andare a letto",
                "Cambia le lenzuola più frequentemente durante il recupero"
            ]
        },
        solution: {
            title: "La soluzione della stecca notturna",
            description: "Una stecca notturna come la stecca Thetis è progettata specificamente per dormire. Non tocca mai il pavimento e ha un rivestimento lavabile."
        }
    }
};

const currentEducation = hygieneEducation[lang as keyof typeof hygieneEducation] || hygieneEducation.en;
---

<Fragment slot="head">
    <HygieneSplintSchema />
    <slot name="head" />
</Fragment>

<Layout
    title={currentContent.title}
    description={currentContent.description}
    image={currentContent.image}
    lang={lang}
>
    <main>
        <HygieneHero lang={lang} content={currentContent.hero} />

        <!-- Educational Section: Why Boot Makes Bed Dirty -->
        <section id="education" class="bg-gradient-to-b from-white to-neutral-50 py-16 md:py-20">
            <div class="mx-auto px-4 max-w-6xl">
                <div class="mb-12 text-center">
                    <div class="inline-flex items-center gap-2 bg-primary/10 mb-4 px-4 py-2 rounded-full">
                        <Bed className="w-4 h-4 text-primary" />
                        <span class="font-medium text-primary text-sm uppercase tracking-wider">Understanding The Problem</span>
                    </div>
                    <h2 class="mb-4 font-bold text-neutral-900 text-3xl md:text-4xl">
                        {currentEducation.sectionTitle}
                    </h2>
                    <p class="mx-auto max-w-2xl text-neutral-600 text-lg">
                        {currentEducation.sectionSubtitle}
                    </p>
                </div>

                <!-- Quote -->
                <blockquote class="bg-primary/5 mx-auto mb-12 p-6 border-l-4 border-primary rounded-r-lg max-w-3xl">
                    <p class="text-neutral-700 text-lg italic">
                        "{currentEducation.quote}"
                    </p>
                </blockquote>

                <!-- Problem Cards -->
                <div class="gap-6 grid md:grid-cols-2 lg:grid-cols-4 mb-12">
                    {currentEducation.problems.map((problem) => (
                        <div class="bg-white shadow-sm hover:shadow-md p-6 border border-neutral-200 rounded-xl transition-shadow">
                            <div class="flex justify-center items-center bg-amber-100 mb-4 rounded-full w-12 h-12">
                                {problem.icon === "bed" && <Bed className="w-6 h-6 text-amber-600" />}
                                {problem.icon === "refresh" && <RefreshCw className="w-6 h-6 text-amber-600" />}
                                {problem.icon === "shirt" && <Shirt className="w-6 h-6 text-amber-600" />}
                                {problem.icon === "sparkles" && <Sparkles className="w-6 h-6 text-amber-600" />}
                            </div>
                            <h3 class="mb-2 font-semibold text-neutral-900 text-lg">{problem.title}</h3>
                            <p class="text-neutral-600 text-sm">{problem.description}</p>
                        </div>
                    ))}
                </div>

                <!-- Tips Box -->
                <div class="bg-primary/5 mx-auto p-6 md:p-8 border border-primary/20 rounded-xl max-w-3xl mb-8">
                    <h3 class="flex items-center gap-2 mb-4 font-bold text-neutral-900 text-xl">
                        <Check className="w-6 h-6 text-primary" />
                        {currentEducation.tips.title}
                    </h3>
                    <ul class="space-y-3">
                        {currentEducation.tips.items.map((item) => (
                            <li class="flex items-start gap-3">
                                <Check className="flex-shrink-0 mt-0.5 w-5 h-5 text-primary" />
                                <span class="text-neutral-700">{item}</span>
                            </li>
                        ))}
                    </ul>
                </div>

                <!-- Solution Box -->
                <div class="bg-green-50 mx-auto p-6 border border-green-200 rounded-xl max-w-3xl">
                    <h3 class="flex items-center gap-2 mb-4 font-bold text-green-800 text-xl">
                        <Sparkles className="w-6 h-6 text-green-600" />
                        {currentEducation.solution.title}
                    </h3>
                    <p class="text-green-700">{currentEducation.solution.description}</p>
                </div>
            </div>
        </section>

        <HygieneReasons lang={lang} />

        <!-- Product Introduction - Soft Sell -->
        <ProductIntroduction lang={lang} variant="sleeping" />

        <!-- Surgeon Endorsements -->
        <section class="bg-white py-12 md:py-16">
            <div class="mx-auto px-4 max-w-7xl">
                <div class="mb-8 text-center">
                    <h2 class="mb-4 font-bold text-neutral-900 text-2xl md:text-3xl">
                        Trusted by Medical Professionals
                    </h2>
                    <p class="text-neutral-600">
                        Surgeons and clinicians recommend the Thetis splint
                    </p>
                </div>
                <SurgeonsCarousel client:load />
            </div>
        </section>

        <!-- Patient Reviews -->
        <section class="bg-gradient-to-b from-white to-neutral-50 py-12 md:py-16">
            <div class="mx-auto px-4 max-w-7xl">
                <div class="mb-8 text-center">
                    <div class="inline-flex items-center gap-2 bg-primary/10 mb-4 px-4 py-2 rounded-full">
                        <Check className="w-4 h-4 text-primary" />
                        <span class="font-medium text-primary text-sm uppercase tracking-wider">Real Patient Experiences</span>
                    </div>
                    <h2 class="mb-4 font-bold text-neutral-900 text-2xl md:text-3xl">
                        What Patients Say
                    </h2>
                </div>
                <EnhancedReviewCarousel client:load />
                <div class="mt-8 text-center">
                    <a
                        href="/reviews"
                        class="inline-flex items-center gap-2 hover:bg-primary px-6 py-3 border-2 border-primary rounded-lg font-semibold text-primary hover:text-white transition-colors"
                    >
                        View All Reviews
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </a>
                </div>
            </div>
        </section>

        <!-- Athletes Section -->
        <section class="bg-neutral-50 py-12 md:py-16">
            <div class="mx-auto px-4 max-w-7xl">
                <div class="mb-8 text-center">
                    <h2 class="mb-4 font-bold text-neutral-900 text-2xl md:text-3xl">
                        Trusted by Professional Athletes
                    </h2>
                    <p class="text-neutral-600">
                        Athletes recovering from Achilles rupture trust the Thetis splint
                    </p>
                </div>
                <AthletesCarousel client:load />
            </div>
        </section>

        <HygieneFAQs lang={lang} client:load />

        <!-- Subscribe Block -->
        <div class="bg-neutral-50 py-8 md:py-12">
            <div class="mx-auto px-4 max-w-3xl">
                <SubscribeBlock source="hygiene_page" lang={lang} />
            </div>
        </div>

        <HygieneOrderCallout lang={lang} />
    </main>

    <StickyAddToCart
        variant="splint"
        lang={lang}
        splintHref={splintRoute?.href || "/achilles-rupture-splint"}
        client:load
    />

    <ExitIntentPopup client:load />
</Layout>
