---
import FAQsLayout from "../../layouts/FAQsLayout.astro";
import TimelineBadge from "../../components/timeline/TimelineBadge.astro";
import TimelineBlock from "../../components/timeline/TimelineBlock.astro";
import FAQAccordion from "../../components/research/FaqSchemaAccordion.astro";
import NightSplintAdvert from "../../components/products/night-splint/NightSplintAdvert.astro";
import type { Lang } from "../../config/languages";
import { content } from "../../content/FAQs/achilles-rupture-timeline-content.ts";

interface Props {
  lang: Lang;
}

const { lang = "en" } = Astro.props;
const t = content[lang];
---

<FAQsLayout title={t.title} description={t.description} lang={lang}>
  <section
    id="faq-slide"
    class="flex flex-col justify-center items-center mx-auto px-4"
  >
    <div class="relative mt-8 w-full max-w-4xl">
      {
        t.timelineBlocks.map((block, index) => (
          <TimelineBlock reverse={index % 2 === 0}>
            <Fragment slot="badge">
              <TimelineBadge time={block.time} variant={block.variant} />
            </Fragment>
            <Fragment slot="item">
              <h2 class="mb-2 font-semibold text-xl">{block.title}</h2>
              <div set:html={block.content} />
            </Fragment>
          </TimelineBlock>
        ))
      }
    </div>

    <NightSplintAdvert lang={lang} />

    <FAQAccordion faqs={t.faqs} />
  </section>
</FAQsLayout>

<style>
  .li-heading {
    @apply mt-2 pb-1 font-semibold text-neutral-700 list-none;
  }

  :global(.timeline-block:hover) {
    @apply scale-[1.02] transition-transform duration-200 transform;
  }

  :global(.timeline-badge) {
    @apply shadow-md;
  }

  @media print {
    .timeline-block {
      break-inside: avoid;
      page-break-inside: avoid;
    }
  }

  @media (max-width: 640px) {
    .timeline-block {
      margin-left: 1rem;
    }
  }

  html {
    scroll-behavior: smooth;
  }
</style>
